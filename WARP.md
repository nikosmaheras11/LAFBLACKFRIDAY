# WARP.md

This file provides guidance to WARP (warp.dev) when working with code in this repository.

## Project Overview

This is an animated header component for WordPress featuring a floating image grid system with smooth rotation effects. It's a vanilla JavaScript, HTML, and CSS implementation designed for easy WordPress integration.

**Key Components:**
- `index.html` - Standalone demo with header structure
- `styles.css` - All CSS including grid system, header, and responsive styles
- `script.js` - Two main classes: `FloatingHeaderGrid` (handles grid animations) and `MobileMenu` (mobile navigation)

## Architecture

### Grid System
The grid is dynamically generated by JavaScript based on CONFIG object:
- Desktop: 8x6 grid (48 cells total)
- Mobile: 4x8 grid (32 cells total)
- Only specific cells (defined in `CONFIG.activeGridCells`) contain rotating images
- Each active cell cycles through all images in `CONFIG.imagePaths` with staggered timing

### Class Structure
- **FloatingHeaderGrid**: Manages grid creation and image rotation animations
  - Creates grid cells programmatically
  - Handles image rotation with fade transitions
  - Performance optimization: pauses animations when page is hidden
- **MobileMenu**: Handles mobile navigation toggle and hamburger animation

### Performance Features
- Visibility API integration pauses animations when tab is inactive
- Debounced resize handler (250ms) to prevent excessive grid reinitialization
- CSS transitions for smooth animations without JS performance overhead

## Development Commands

### Local Testing
```bash
# Serve the files (requires Python)
python3 -m http.server 8000

# Or use any static server
npx serve .
```

Then open `http://localhost:8000/index.html`

### Code Validation
This is a vanilla JS/HTML/CSS project with no build system. To validate:
```bash
# Check HTML validity (if you have validator installed)
html5validator index.html

# CSS linting (if you have stylelint)
stylelint styles.css

# JS linting (if you have eslint)
eslint script.js
```

## Configuration

All animation and grid settings are in the `CONFIG` object at the top of `script.js`:

```javascript
const CONFIG = {
    gridColumns: 8,              // Desktop columns
    gridRows: 6,                 // Desktop rows
    rotationInterval: 3000,      // ms between image changes
    fadeDuration: 800,           // ms for fade transition
    imagePaths: [...],           // Image URLs array
    activeGridCells: [...]       // Grid indices that show images
}
```

**Grid Cell Indexing**: Cells are numbered left-to-right, top-to-bottom starting at 0. For an 8x6 grid, indices run 0-47.

## WordPress Integration Notes

This component is built for WordPress but can run standalone. When integrating:
- Replace placeholder image URLs in `CONFIG.imagePaths` with WordPress media library paths
- Enqueue `styles.css` and `script.js` via `functions.php`
- Add HTML structure to `header.php` or use Custom HTML blocks
- Mobile breakpoint is 768px (matches common WordPress themes)

## Responsive Behavior

The grid automatically reconfigures on window resize:
- Desktop (>768px): 8 columns × 6 rows
- Mobile (≤768px): 4 columns × 8 rows
- Mobile nav becomes full-width overlay with slide-down animation
- Hamburger icon animates to X when menu is open

## Code Style

- Vanilla JavaScript (ES6+ classes)
- No dependencies or build tools
- CSS uses BEM-like naming for components (`.site-header`, `.header-container`, `.nav-menu`)
- Clear section comments with `===` borders for organization
- Mobile-first responsive design with `@media` breakpoints

## Common Modifications

### Changing Animation Timing
Edit `CONFIG` object in `script.js`:
- `rotationInterval`: Time each image displays before transitioning
- `fadeDuration`: Length of fade transition (also update CSS transition on `.grid-cell img`)

### Adding/Removing Active Grid Cells
Update `CONFIG.activeGridCells` array with desired cell indices. Remember grid cells are zero-indexed.

### Adjusting Header Height
Modify padding in `.header-container` in `styles.css`

### Changing Grid Dimensions
Update both:
1. `CONFIG.gridColumns` and `CONFIG.gridRows` in `script.js`
2. `grid-template-columns` and `grid-template-rows` in `.grid-overlay` in `styles.css`

### Customizing Colors/Styles
Header background, logo, and nav colors are in `.site-header` and related selectors in `styles.css`
